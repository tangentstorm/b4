{deck}
version:1
card:4
size:[866,510]
name:"b4-ui.deck"
patterns:"%%IMG2AAgA5gBAAUEABwEBAAcBAQAHAQgABAEBAAcBAQAHAQEAAwEIAAIBAQAGAQEABgEBAAcBAgAFAQEAAgEBAAMBAQAEAQMABgEBAAYBAQAEAQEAEwEBAAsBAQATAQEACwEIAAEBAwABAQ0AAQEDAAEBCQABAQMAAQENAAEBAwABAQEAAQEDAAMBAQACAQEAAwEBAAQBAQABAQQAAwEEAAEBAQADAQMAAgEBAAMBAQACAQMAAQEBAAIBBQADAQEAAwEBAAQBAQABAQEABgEBAAsBAQAGAQEAAQECAAMBAQADAQEAAwEBAAMBAQADAQEAAwEBAAMBAQANAQEAAwEBAAkBAQADAQEADQEBAAMBAQAKAQMAAQEFAAEBAwABAQEAAQEDAAEBBQABAQMAAQEBAAEBAwABAQUAAQEDAAEBAQABAQMAAQEFAAEBAwABAQEAAQEBAAYBAQATAQEACAEBAAgBAQALAQEADAEBAAcBAQAGAQMABAEBAAMBAQACAQEABQECAAgBAgAIAQEAAQEBAAMBAQAFAQEAAwEBAAEBAQADAQEABQEBAAMBAQABAQEAAwEBAAUBAQADAQEAAQEBAAMBAQAFAQEAAwEBAAEBAQABAQEAAQEBAAEBAQACAQEAAQEBAAEBAQABAQIAAQEBAAEBAQABAQEAAgEBAAEBAQABAQEAAQECAAEBAQABAQEAAQEBAAIBAQABAQEAAQEBAAEBAgABAQEAAQEBAAEBAQACAQEAAQEBAAEBAQABAQIADAEBAAMBAQAKAQEACgEBAAIBAQALAQEABAEBAAQBAgAKAQIAAgEBAAMBAgABAQIAAQECAAMBAQACAQIACgECAAMBAgABAQQAAQECAAMBAQABAQEAAQEBAAEBAQAJAQEAAQEBAAEBAQABAQEACQEBAAEBAQABAQEAAQEBAAkBAQABAQEAAQEBAAEBAQAJAQgAAQEBAAEBAQABAQEAAQEJAAEBAQABAQEAAQEBAAEBCQABAQEAAQEBAAEBAQABAQkAAQEBAAEBAQABAQEAAQEJAAgBCAAIAQgACAEIAAgBAQABAQEAAQEBAAEBAQABAQEAAQEBAAEBAQABAQEAAQEBAAEBAQABAQEAAQEBAAEBAQABAQEAAQEBAAEBAQABAQEAAQEBAAEBAQABAQEAAQEBAAEBAQABAQEAAQEBAAEBAQABAQEAAQEBAAEBAQABAQEAAQEBAAEBAQABAQEAAgEBAAMBAQACAQEAAwEBAAYBAQADAQEAAgEBAAMBAQACAQEAAwEBAAIBAQADAQEABgEBAAMBAQACAQEAAwEBAAEBAgABAQMAAQECAAEBAwABAQIAAQEDAAEBBgABAQMAAQECAAEBAwABAQIAAQEDAAEBAgABAQMAAQEGAAEBAwACAQEABgEBAA4BAQAGAQEABgEBAAYBAQAGAQEABgEBAAUBAQABAQYAAQEOAAEBBgABAQYAAQEGAAEBBgABAQYAAQEFAAQBAQALAQEAAQEBAAEBAQABAQEADQEBAAsBAQADAQEACwEBAAMBBQADAQQAAQEDAAEBBAACAQIAAwEFAAMBBQAEAQMAAQEEAAMBAQACAQIAAQEBAAEBAQABAQEACQEBAAMBAQAGAQEAAQEBAAQBAQADAQEAAgEBAAUBAgADAQEACwEBAAEBAgAEAQEAAQECAAQBAQABAQIABAEBAAEBBgAIAQEAAQEHAAEBBwABAQIABPwDYwOcA5MBOQLJAWMCwwGTATwB+QHPAZwBbwHGAWkBHAFpARwBAAFsAZMBYwGfAcABBgE/AcYBMAFgAfMByQGcAfMBkwFjAckBDAM="

{card:home}
image:"%%IMG2A2IB/iL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/Iv8i/yL/"
script:"home.0"
{widgets}
field1:{"type":"field","size":[192,112],"pos":[16,48],"border":0,"value":{"text":["","the B4 virtual machine","\n\nwelcome to the demo reel"],"font":["","menu",""],"arg":["","",""]}}
grid1:{"type":"grid","size":[240,144],"pos":[16,192],"scrollbar":0,"lines":1,"widths":[33,56],"format":"Bss","value":{"ready":[0],"name":["cv-demo"],"note":["canvas interface"]},"row":0,"col":0}

{script:home.0}
on view do
  other.value: field.value
  wait[10]
  go[card] 
end
{end}

{card:cv-demo}
image:"%%IMG2A2IB/iH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/Ib4m/yY2If8h/yEvJv8mNiH/If8hLyb/JjYh/yH/IS8m/yY2If8h/yEvJv8mNiH/If8hLyb/JjYh/yH/IS8m/yY2If8h/yEvJv8mNiH/If8hLyb/JjYh/yH/IS8m/yY2If8h/yEvJv8mNiH/If8hLyb/JjYh/yH/IS8m/yY2If8h/yEvJv8mNiH/If8hLyb/JjYh/yH/IS8m/yY2If8h/yEvJv8mNiH/If8hLyb/JjYh/yH/IS8m/yY2If8h/yEvJv8mNiH/If8hLyb/JjYh/yH/IS8m/yY2If8h/yEvJv8mNiH/If8hLyb/JjYh/yH/IS8m/yY2If8h/yEvJv8mNiH/If8hLyb/JjYh/yH/IS8m/yY2If8h/yEvJv8mNiH/If8hLyb/JjYh/yH/IS8m/yY2If8h/yEvJv8mNiH/If8hLyb/JjYh/yH/IS8m/yY2If8h/yEvJv8mNiH/If8hLyb/JjYh/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yEzKAIh/yH/If8h/yH/If8hxigCIQQoAiH/If8h/yFgKAIh/yH/If8hXygCIf8h/yH/IWYoAiECKAIh/yH/If8h/yH/If8hwygCIQIoAiH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h6ygBIf8h/yH/IWQoASH/If8h/yFiKAEhASgBIQMoASH/If8h/yFeKAEhASgCIQIoASH/If8h/yFdKAIhASgCIQIoASH/If8h/yFdKAIhASgCIQIoASH/If8h/yFdKAIhASgCIQIoASH/If8h/yFdKAUhASgCIf8h/yH/IV0oBSEBKAIh/yH/If8hXSgFIQEoAiH/If8h/yFdKAUhASgCIf8h/yH/IV0oBSEBKAIh/yH/If8hXSgFIQEoAiH/If8h/yFdKAUhASgCIf8h/yH/IV0oASEBKAMhASgCIf8h/yH/IV0oASEBKAIhAigCIf8h/yH/IV8oAiECKAIh/yH/If8hXygBIQMoASH/If8h/yFgKAEhAygBIf8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/IVEmJCH/If8h/yFBJiQh/yH/If8hQSYkIf8h/yH/IUEmJCH/If8h/yFBJiQh/yH/If8hQSYkIf8h/yH/IUEmJCH/If8h/yFBJiQh/yH/If8hQSYkIf8h/yH/IUEmJCH/If8h/yFBJiQh/yH/IVwoASHjJiQh/yH/If8hQSYkIf8h/yFaKAEhBSgBId8mJCH/If8hXSgBIeImJCH/If8hWSgBIeYmJCH/If8hXCgBIQMoASHfJiQh/yH/If8hQSYkIf8h/yFbKAEhAygBIeAmJCH/If8h/yFBJiQh/yH/If8hQSYkIf8h/yH/IUEmJCH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yHTKAEh/yH/If8hiigBIf8h/yH/ITwoASEFKAEh/yH/If8hYSgBISIoASEFKAEh/yH/If8hNygBISkoASH/If8h/yE9KAEhAygBIR4oASH/If8h/yFnKAEhAygBIf8h/yH/ITkoASEDKAEh/yH/If8hhigBIQMoASH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/IX8oASH/If8h/yH/If8h/yHHKAEhBSgBIf8h/yH/IWEoASH/If8h/yFgKAEh/yH/If8hZygBIQMoASH/If8h/yH/If8h/yHEKAEhAygBIf8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/If8h/yH/IeU="
script:"cv-demo.0"
{widgets}
output:{"type":"field","size":[309,147],"pos":[13,65],"scrollbar":1,"style":"code","scroll":55,"value":"> %C %R\n> :: 01 02 03  :B 'b 'b 'b\n> ?100\n^A ^B ^C 'b 'b 'b .. .. .. .. .. .. .. .. .. ..\n> ?B\n000103\n> \n> \n> 01 'f cv 00 00 'd cv 'r cv\n> \n> 29 'f cv 'd cv sw -1 sh sw -1 sh 50 'c cv\n> \n> 05 02 ad 'f cv 'd cv sw -1 sh sw -1 sh 40 'c cv\n> 2C 'f cv 'd cv sw -1 sh sw -1 sh 30 'c cv\n> 2B 'f cv 'd cv sw -1 sh sw -1 sh 20 'c cv\n> \n> "}
input:{"type":"field","size":[309,19],"pos":[13,213],"script":"cv-demo.1","border":1,"scrollbar":0,"style":"code"}
status:{"type":"field","size":[309,37],"pos":[13,27],"locked":1,"script":"cv-demo.1","show":"transparent","border":1,"scrollbar":0,"style":"code","value":"ds: []\ncs: []\nip: 100"}
cmd_s:{"type":"button","size":[22,20],"pos":[13,238],"font":"mono","text":"%s","style":"rect","shortcut":"s"}
cmd_e:{"type":"button","size":[22,20],"pos":[33,238],"font":"mono","text":"%e","style":"rect","shortcut":"g"}
cmd_r:{"type":"button","size":[22,20],"pos":[53,238],"font":"mono","text":"%R","style":"rect","shortcut":"r"}
button1:{"type":"button","size":[38,24],"pos":[284,234],"script":"cv-demo.2","font":"body","show":"transparent","text":"clear","style":"rect"}
canvas1:{"type":"canvas","size":[318,149],"pos":[345,27],"script":"cv-demo.3","font":"mono","image":"%%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","brush":90,"pattern":43,"scale":1}
cmd_C:{"type":"button","size":[22,20],"pos":[73,238],"font":"mono","text":"%C","style":"rect","shortcut":"r"}
b4i_scripts:{"type":"contraption","size":[400,220],"pos":[13,272],"def":"itemlist","widgets":{"label":{"value":"b4i scripts"},"item_text":{"size":[320,199],"value":"%C %R\n:: 01 02 03  :B 'b 'b 'b\n?100\n?B\n\n# cv op is canvas interface (at least for now)\n\n# clear canvas by drawing rectangle in color 1\n# 'f:fill color 'd: dimensions 'r rect\n01 'f cv 00 00 'd cv 'r cv\n\n# find center and draw a circle in color\n29 'f cv 'd cv sw -1 sh sw -1 sh 50 'c cv\n\n# copy and paste with other colors/radii\n# colors here include lil patterns.\n05 02 ad 'f cv 'd cv sw -1 sh sw -1 sh 40 'c cv\n2C 'f cv 'd cv sw -1 sh sw -1 sh 30 'c cv\n2B 'f cv 'd cv sw -1 sh sw -1 sh 20 'c cv\n\n# will have a real assembler soon and clean up\n"},"items":{"size":[80,199],"value":{"name":["circles"],"text":["%C %R\n:: 01 02 03  :B 'b 'b 'b\n?100\n?B\n\n# cv op is canvas interface (at least for now)\n\n# clear canvas by drawing rectangle in color 1\n# 'f:fill color 'd: dimensions 'r rect\n01 'f cv 00 00 'd cv 'r cv\n\n# find center and draw a circle in color\n29 'f cv 'd cv sw -1 sh sw -1 sh 50 'c cv\n\n# copy and paste with other colors/radii\n# colors here include lil patterns.\n05 02 ad 'f cv 'd cv sw -1 sh sw -1 sh 40 'c cv\n2C 'f cv 'd cv sw -1 sh sw -1 sh 30 'c cv\n2B 'f cv 'd cv sw -1 sh sw -1 sh 20 'c cv\n\n# will have a real assembler soon and clean up\n"]}},"bnw":{},"bgo":{},"run_event":{"value":"run_b4i"},"slider1":{},"bpr":{},"bdn":{},"brm":{}}}
lil_scripts:{"type":"contraption","size":[400,220],"pos":[432,272],"def":"itemlist","widgets":{"label":{"value":"lil scripts"},"item_text":{"size":[320,199],"value":"alert[\"hello world\"]"},"items":{"size":[80,199],"value":{"name":["show ram","hello"],"text":["# start on debugger. draw some ram, highlight ip\nip:mb4.get_vm[].ip\na0: 256 gw:16 mw:31 cs: 18,18  ofs:3,4  \non gxy i do (gw%i),floor i/gw end\nixy: (ofs+(mw,0)-(3,3))+cs*gxy[ip-a0]\nc: card.widgets.canvas1\nc.pattern: 47 c.rect[0,0 c.size]        # bg\nc.pattern: 41 c.rect[0,0 mw,c.size[1]]  # hex\nc.pattern: 1  c.rect[ixy cs+0,1]        # ip\nc.pattern: 0 c.font: \"mono\"\neach i in range 8\n  a: a0+16*i\n  t: \"%04H %s\" format a,mb4.showMem[a]\n  c.text[t (0,cs[1]*i)+ofs]\nend\n","alert[\"hello world\"]"]}},"bnw":{},"bgo":{},"run_event":{"value":"run_lil"},"slider1":{},"bpr":{},"bdn":{},"brm":{}}}

{script:cv-demo.0}
mb4.set_echo[on echo line do
  t:output.text
  output.text: if t t,"\n",line else line end
  output.scroll: 999999
end]
mb4.set_cv[canvas1]
on view do
  status.text
    : mb4.showStack["ds"], "\n"
    , mb4.showStack["cs"], "\n"
    , mb4.showIp[]
end


on run line do
 echo["> ",line]
 mb4.b4i[line]
 view[]
end

on click do
  run[me.text]
end

on run_b4i text do 
  output.text:""
  each line in "\n" split text
    if !line[0]="#" run[line] end
  end
end

on run_lil text do
  eval[text 0 1]
end
{end}

{script:cv-demo.1}
on change val do
 
end
{end}

{script:cv-demo.2}
on click do
  output.text:input.text:""
end
{end}

{script:cv-demo.3}
on click pos do
 
end

on drag pos do
 
end

on release pos do
 
end
{end}

{card:palettes}
image:"%%IMG2A2IB/g3/Df8N/w3/Df8N/w3/Df8N/w3/Df8N/w3/Df8N/w3/Df8N/w3/Df8N/w3/Df8N/w3/Df8N/w3/Df8N/w3/Df8N/w3/Df8N/w3/Df8N/w3/Df8N/w3/Df8N/w3/Df8N/w3/Df8N/w3/Df8N/w1WBIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N7gF1DX8AgAEBDf8N7gF1DX8AgAEBDf8N7gF1DX8AgAEBDf8N7gF1DX8AgAEBDf8N7gF1DX8AgAEBDf8N7gEFAGsBBQ1/AIABAQ3/De4BBQBrAQUNfwCAAQEN/w3uAQUAawEFDX8AgAEBDf8N7gEFAGsBBQ1/AIABAQ3/De4BBQBrAQUNfwCAAQEN/w3uAQUALgECADsBBQ1/AIAB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gAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4wCAAQEN/w3/DeMAgAEBDf8N/w3jAIABAQ3/Df8N4w=="
script:"palettes.0"
{widgets}
b4:{"type":"grid","size":[144,224],"pos":[448,48],"scrollbar":0,"lines":0,"widths":[24,29,60],"format":"issi","value":{"vga":[15,8,7,1,9,3,11,10,2,6,14,4,12,13,5,0],"cw":["W","K","w","r","R","y","Y","G","g","c","C","b","B","M","m","k"],"hex":["fcfcfc","636363","9c9c9c","933939","c96363","c3933c","f9cf9c","6fc669","1c691c","006c93","639fc0","063fc6","3060f3","c99cf3","9363c9","0c0c0c"],"i":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]},"row":15,"col":2}
label:{"type":"field","size":[100,20],"pos":[16,32],"locked":1,"font":"menu","show":"transparent","border":0,"value":"color palettes"}
decker:{"type":"grid","size":[128,224],"pos":[192,48],"scrollbar":0,"lines":0,"widths":[25,26,24],"format":"isis","value":{"p":[32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47],"ph":["20","21","22","23","24","25","26","27","28","29","2A","2B","2C","2D","2E","2F"],"i":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],"hex":["ffffff","ffff00","ff6500","dc0000","ff0097","360097","0000ca","0097ff","00a800","006500","653600","976536","b9b9b9","868686","454545","000000"]},"row":0}
canvas1:{"type":"canvas","size":[29,208],"pos":[160,64],"image":"%%IMG2AB0A0CD/IHoh/yF6Iv8ieiP/I3ok/yR6Jf8leib/Jnon/yd6KP8oein/KXoq/yp6K/8reiz/LHot/y16Lv8uei//L3o=","pattern":47}
arne:{"type":"grid","size":[96,224],"pos":[336,48],"scrollbar":0,"lines":0,"widths":[39],"value":{"i":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],"hex":["ffffff","493c2b","9d9d9d","a46422","be2633","e06f8b","eb8931","f7e26b","a3ce27","44891a","1b2632","2f484e","005784","31a2f2","b2dcef","000000"]},"row":8}
others:{"type":"grid","size":[96,64],"pos":[16,64],"script":"palettes.1","scrollbar":1,"lines":0,"bycell":0,"value":{"choose":["arne","b4","decker"]},"row":1}
field3:{"type":"field","size":[128,16],"pos":[192,32],"show":"invert","border":0,"align":"center","value":"lookup"}
field4:{"type":"field","size":[144,16],"pos":[448,32],"show":"invert","border":0,"align":"center","value":"b4"}
field5:{"type":"field","size":[96,16],"pos":[336,32],"show":"invert","border":0,"align":"center","value":"arne"}
field1:{"type":"field","size":[260,85],"pos":[144,414],"value":"# palette links:\narne: https://lospec.com/palette-list/arne-16\n"}

{script:palettes.0}
on view do
 # draw the preview canvas
 c:canvas1 ch:13 cw:c.size[0]
 c.pattern:0  c.rect[0 c.size]
 each i in range 16
   c.pattern: i+32
   c.rect[0,i*ch cw,ch]
 end 
 # populate list of grids
 other_grids.value: select n:value..name from card.widgets
end
{end}

{script:palettes.1}
on click row do
 c:me.value[row].choose
 t:card.widgets[c].value
 each v i in "%h" parse t.hex  patterns[32+i]:v end
end

{end}

{card:bytecode}
image:"%%IMG2A2IB/iT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JOcNAST/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k1Sf/JzYk/yT/JC8n/yc2JP8k/yQvJ/8nNiT/JP8kLyf/JzYk/yT/JC8n/yc2JP8k/yQvJ/8nNiT/JP8kLyf/JzYk/yT/JC8n/yc2JP8k/yQvJ/8nNiT/JP8kLyf/JzYk/yT/JC8n/yc2JP8k/yQvJ/8nNiT/JP8kLyf/JzYk/yT/JC8n/yc2JP8k/yQvJ/8nNiT/JP8kLyf/JzYk/yT/JC8n/yc2JP8k/yQvJ/8nNiT/JP8kLyf/JzYk/yT/JC8n/yc2JP8k/yQvJ/8nNiT/JP8kLyf/JzYk/yT/JC8n/yc2JP8k/yQvJ/8nNiT/JP8kLyf/JzYk/yT/JC8n/yc2JP8k/yQvJ/8nNiT/JP8kLyf/JzYk/yT/JC8n/yc2JP8k/yQvJ/8nNiT/JP8kLyf/JzYk/yT/JC8n/yc2JP8k/yQvJ/8nNiT/JP8kLyf/JzYk/yT/JC8n/yc2JP8k/yQvJ/8nNiT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8k/yT/JP8kLg=="
script:"bytecode.0"
{widgets}
b00:{"type":"button","size":[22,20],"pos":[359,26],"font":"mono","text":"..","style":"rect"}
output:{"type":"field","size":[309,147],"pos":[13,65],"scrollbar":1,"style":"code","scroll":9306,"value":"\nno: =\nzp\nzp\nzp\nzp\nzp\n> zp\n> zp\n> zp\n> zp\n> zp\n> \n> @100\n. . . . . . . . . . . . . . . .\n> 100 100 wi\n> @100\n. . . . . . . . . . . . . . . .\n> 100 \n> 100 \n> zp\n> zp\n> zp\n> zp\n> FF \n> FF 33\n> CC\n> CC  \n> \n> zp\n> zp\n> zp\n> zp\n> zp\n> zp\n> zp\n> CC AA\n> swp\nno: swp\n> sw\n> sw\n> sw\n> sw\n> sw\n> sw\n> sw\n> sw\n> ov\n> zp\n> dc\n> cd\n> dc sw cd sw\n> dc sw cd sw\n> dc sw cd sw\n> dc sw cd sw\n> dc sw cd sw\n> dc sw cd sw\n> dc sw cd sw\n> dc sw cd sw\n> dc sw cd sw\n> dc sw cd sw\n> dc sw cd sw\n> dc sw cd sw\n> dc sw cd sw\n> dc sw cd sw\n> dc sw cd sw\n> dc sw cd sw\n> dc sw cd sw\n> dc sw cd sw\n> dc sw cd sw\n> dc sw cd sw\n> dc sw cd sw\n> dc sw cd sw\n> dc sw cd sw\n> zp zp BB CC\n> dc sw cd sw\n> dc sw cd sw\n> dc sw cd sw\n> dc sw cd sw\n> dc sw cd sw\n> dc sw cd sw\n> dc sw cd sw\n> dc sw cd sw\n> dc sw cd sw\n> dc sw cd sw\n> dc sw cd sw\n> dc sw cd sw\n> !100 dc sw cd sw\n> @100 \nd s c s . . . . . . . . . . . .\nd s c s . . . . . . . . . . . .\n> @100\n> @100\n> @100\n> 2 2 +\n> 2 2 ad\n> @100\n> @100\n> @100\n> @100\n> @100\n> @100\n> @100\n> @100\n> @100\n.. .. .. .. .. .. .. .. .. .. .. .. .. .. .. ..\n> @100\n.. .. .. .. .. .. .. .. .. .. .. .. .. .. .. ..\n> !100 dc sw cd sw rt\n> @100\ndc sw cd sw rt .. .. .. .. .. .. .. .. .. .. ..\nno: ^A\nno: ^A\nno: ^A\nno: ^A\nno: ^A\nno: ^A\nno: ^A\nno: ^A\nno: ^A\n> # layout buttons in grid relative to ^@ button\neach b i in \n  extract value \n  where (value..type=\"button\")\n    & (!value..name=\"b00\")\n    & (!value..name=\"run_meta\")\n  from range card.widgets\n#\n  b.size: b00.size\n  b.name: \"b%H\" format i+1\n  b.text: \"^%a\" format i+1\nend\nno: #\nno: layout\nno: buttons\nno: in\nno: grid\nno: relative\nno: to\nno: ^@\nno: button\neach\nno: b\nno: i\nno: in\nno: \n\nno: extract\nno: value\nno: \n\nno: where\nno: (value..type=\"button\")\n\nno: &\nno: (!value..name=\"b00\")\n\nno: &\nno: (!value..name=\"run_meta\")\n\nno: from\nno: range\nno: card.widgets\n#\n\nno: b.size:\nno: b00.size\n\nno: b.name:\nno: \"b%H\"\nno: format\nno: i+1\n\nno: b.text:\nno: \"^%a\"\nno: format\nno: i+1\nend\n> # layout buttons in grid relative to ^@ button\neach b i in \n  extract value \n  where (value..type=\"button\")\n    & (!value..name=\"b00\")\n    & (!value..name=\"run_meta\")\n  from range card.widgets\n#\n  b.size: b00.size\n  b.name: \"b%H\" format i+1\n  b.text: \"^%a\" format i+65\nend\nno: #\nno: layout\nno: buttons\nno: in\nno: grid\nno: relative\nno: to\nno: ^@\nno: button\neach\nno: b\nno: i\nno: in\nno: \n\nno: extract\nno: value\nno: \n\nno: where\nno: (value..type=\"button\")\n\nno: &\nno: (!value..name=\"b00\")\n\nno: &\nno: (!value..name=\"run_meta\")\n\nno: from\nno: range\nno: card.widgets\n#\n\nno: b.size:\nno: b00.size\n\nno: b.name:\nno: \"b%H\"\nno: format\nno: i+1\n\nno: b.text:\nno: \"^%a\"\nno: format\nno: i+65\nend\n> # layout buttons in grid relative to ^@ button\neach b i in \n  extract value \n  where (value..type=\"button\")\n    & (!value..name=\"b00\")\n    & (!value..name=\"run_meta\")\n  from range card.widgets\n#\n  b.size: b00.size\n  b.name: \"b%H\" format i+1\n  b.text: \"^%a\" format i+65\nend\nno: #\nno: layout\nno: buttons\nno: in\nno: grid\nno: relative\nno: to\nno: ^@\nno: button\neach\nno: b\nno: i\nno: in\nno: \n\nno: extract\nno: value\nno: \n\nno: where\nno: (value..type=\"button\")\n\nno: &\nno: (!value..name=\"b00\")\n\nno: &\nno: (!value..name=\"run_meta\")\n\nno: from\nno: range\nno: card.widgets\n#\n\nno: b.size:\nno: b00.size\n\nno: b.name:\nno: \"b%H\"\nno: format\nno: i+1\n\nno: b.text:\nno: \"^%a\"\nno: format\nno: i+65\nend\n> # layout buttons in grid relative to ^@ button\neach b i in \n  extract value \n  where (value..type=\"button\")\n    & (!value..name=\"b00\")\n    & (!value..name=\"run_meta\")\n  from range card.widgets\n#\n  b.size: b00.size\n  b.name: \"b%H\" format i+1\n  b.text: \"^%a\" format i+65\nend\nno: #\nno: layout\nno: buttons\nno: in\nno: grid\nno: relative\nno: to\nno: ^@\nno: button\neach\nno: b\nno: i\nno: in\nno: \n\nno: extract\nno: value\nno: \n\nno: where\nno: (value..type=\"button\")\n\nno: &\nno: (!value..name=\"b00\")\n\nno: &\nno: (!value..name=\"run_meta\")\n\nno: from\nno: range\nno: card.widgets\n#\n\nno: b.size:\nno: b00.size\n\nno: b.name:\nno: \"b%H\"\nno: format\nno: i+1\n\nno: b.text:\nno: \"^%a\"\nno: format\nno: i+65\nend\n> # layout buttons in grid relative to ^@ button\neach b i in \n  extract value \n  where (value..type=\"button\")\n    & (!value..name=\"b00\")\n    & (!value..name=\"run_meta\")\n  from range card.widgets\n#\n  b.size: b00.size\n  b.name: \"b%H\" format i+1\n  b.text: \"^%a\" format i+65\nend\nno: #\nno: layout\nno: buttons\nno: in\nno: grid\nno: relative\nno: to\nno: ^@\nno: button\neach\nno: b\nno: i\nno: in\nno: \n\nno: extract\nno: value\nno: \n\nno: where\nno: (value..type=\"button\")\n\nno: &\nno: (!value..name=\"b00\")\n\nno: &\nno: (!value..name=\"run_meta\")\n\nno: from\nno: range\nno: card.widgets\n#\n\nno: b.size:\nno: b00.size\n\nno: b.name:\nno: \"b%H\"\nno: format\nno: i+1\n\nno: b.text:\nno: \"^%a\"\nno: format\nno: i+65\nend\nno: ^@\nno: ^@\n> # layout buttons in grid relative to ^@ button\neach b i in \n  extract value \n  where (value..type=\"button\")\n    & (!value..name=\"b00\")\n    & (!value..name=\"run_meta\")\n  from range card.widgets\n#\n  s: b.size: b00.size\n  b.name: \"b%H\" format i+1\n  b.text: \"^%a\" format i+65\n  p: b00.pos  b.pos: (p[0]+s[0]*i+1),p[1]\nend\nno: #\nno: layout\nno: buttons\nno: in\nno: grid\nno: relative\nno: to\nno: ^@\nno: button\neach\nno: b\nno: i\nno: in\nno: \n\nno: extract\nno: value\nno: \n\nno: where\nno: (value..type=\"button\")\n\nno: &\nno: (!value..name=\"b00\")\n\nno: &\nno: (!value..name=\"run_meta\")\n\nno: from\nno: range\nno: card.widgets\n#\n\nno: s:\nno: b.size:\nno: b00.size\n\nno: b.name:\nno: \"b%H\"\nno: format\nno: i+1\n\nno: b.text:\nno: \"^%a\"\nno: format\nno: i+65\n\nno: p:\nno: b00.pos\nno: b.pos:\nno: (p[0]+s[0]*i+1),p[1]\nend\n> # layout buttons in grid relative to ^@ button\neach b i in \n  extract value \n  where (value..type=\"button\")\n    & (!value..name=\"b00\")\n    & (!value..name=\"run_meta\")\n  from range card.widgets\n#\n  s: b.size: b00.size\n  b.name: \"b%H\" format i+1\n  b.text: \"^%a\" format i+65\n  p: b00.pos\n  b.pos: p + s * (16%i+1),floor 16/i+1\nend\nno: #\nno: layout\nno: buttons\nno: in\nno: grid\nno: relative\nno: to\nno: ^@\nno: button\neach\nno: b\nno: i\nno: in\nno: \n\nno: extract\nno: value\nno: \n\nno: where\nno: (value..type=\"button\")\n\nno: &\nno: (!value..name=\"b00\")\n\nno: &\nno: (!value..name=\"run_meta\")\n\nno: from\nno: range\nno: card.widgets\n#\n\nno: s:\nno: b.size:\nno: b00.size\n\nno: b.name:\nno: \"b%H\"\nno: format\nno: i+1\n\nno: b.text:\nno: \"^%a\"\nno: format\nno: i+65\n\nno: p:\nno: b00.pos\n\nno: b.pos:\nno: p\nno: +\nno: s\nno: *\nno: (16%i+1),floor\nno: 16/i+1\nend\n> # layout buttons in grid relative to ^@ button\neach b i in \n  extract value \n  where (value..type=\"button\")\n    & (!value..name=\"b00\")\n    & (!value..name=\"run_meta\")\n  from range card.widgets\n#\n  s: b.size: b00.size\n  b.name: \"b%H\" format i+1\n  b.text: \"^%a\" format i+65\n  p: b00.pos\n  b.pos: p + s * (16%i+1),floor(i+1)/16\nend\nno: #\nno: layout\nno: buttons\nno: in\nno: grid\nno: relative\nno: to\nno: ^@\nno: button\neach\nno: b\nno: i\nno: in\nno: \n\nno: extract\nno: value\nno: \n\nno: where\nno: (value..type=\"button\")\n\nno: &\nno: (!value..name=\"b00\")\n\nno: &\nno: (!value..name=\"run_meta\")\n\nno: from\nno: range\nno: card.widgets\n#\n\nno: s:\nno: b.size:\nno: b00.size\n\nno: b.name:\nno: \"b%H\"\nno: format\nno: i+1\n\nno: b.text:\nno: \"^%a\"\nno: format\nno: i+65\n\nno: p:\nno: b00.pos\n\nno: b.pos:\nno: p\nno: +\nno: s\nno: *\nno: (16%i+1),floor(i+1)/16\nend\n> # layout buttons in grid relative to ^@ button\neach b i in \n  extract value \n  where (value..type=\"button\")\n    & (!value..name=\"b00\")\n    & (!value..name=\"run_meta\")\n  from range card.widgets\n#\n  b.style:\"rect\"\n  b.name: \"b%H\" format i+1\n  b.text:  mb4.dis[i+65]\n  p: b00.pos s: b.size: b00.size\n  b.pos: p + s * (16%i+1),floor(i+1)/16\nend\nno: #\nno: layout\nno: buttons\nno: in\nno: grid\nno: relative\nno: to\nno: ^@\nno: button\neach\nno: b\nno: i\nno: in\nno: \n\nno: extract\nno: value\nno: \n\nno: where\nno: (value..type=\"button\")\n\nno: &\nno: (!value..name=\"b00\")\n\nno: &\nno: (!value..name=\"run_meta\")\n\nno: from\nno: range\nno: card.widgets\n#\n\nno: b.style:\"rect\"\n\nno: b.name:\nno: \"b%H\"\nno: format\nno: i+1\n\nno: b.text:\nno: mb4.dis[i+65]\n\nno: p:\nno: b00.pos\nno: s:\nno: b.size:\nno: b00.size\n\nno: b.pos:\nno: p\nno: +\nno: s\nno: *\nno: (16%i+1),floor(i+1)/16\nend\nno: ..\nno: ..\nno: ..\nno: ..\nno: ..\nno: ..\nno: ..\nno: ..\nno: ..\nno: ..\nno: hl\nno: ..\nno: ..\nno: db\nno: hl\nno: hl\nno: hl\nno: hl\nno: hl\nno: hl\nno: ..\nno: ..\nno: db\nno: hl\nno: hl\nno: hl\nno: hl\nno: hl\nno: hl\nno: hl\nno: hl\nno: hl\nno: hl\nno: ..\nno: ..\nno: ..\nno: ..\nno: hl\nno: ..\n> # layout buttons in grid relative to ^@ button\neach b i0 in \n  extract value where value..name like \"op*\"\n  orderby index asc\n  from card.widgets\n#\n  i:i0+1 b.style:b00.style\n  b.name: \"op%H\" format i\n  b.text:  mb4.dis[i]\n  p: b00.pos s: -2 + b.size: b00.size\n  b.pos: p + s * (16%i),floor i/16\nend\nc:button_colors \nc.clear[0,0 c.size] c.pattern:42 c.fill[0,0]\nno: #\nno: layout\nno: buttons\nno: in\nno: grid\nno: relative\nno: to\nno: ^@\nno: button\neach\nno: b\nno: i0\nno: in\nno: \n\nno: extract\nno: value\nno: where\nno: value..name\nno: like\nno: \"op*\"\n\nno: orderby\nno: index\nno: asc\n\nno: from\nno: card.widgets\n#\n\nno: i:i0+1\nno: b.style:b00.style\n\nno: b.name:\nno: \"op%H\"\nno: format\nno: i\n\nno: b.text:\nno: mb4.dis[i]\n\nno: p:\nno: b00.pos\nno: s:\nno: +\nno: b.size:\nno: b00.size\n\nno: b.pos:\nno: p\nno: +\nno: s\nno: *\nno: (16%i),floor\nno: i/16\nend\nc:button_colors\nno: \nc.clear[0,0\nno: c.size]\nno: c.pattern:42\nno: c.fill[0,0]\nno: ..\nno: hl\n> @100\n.. .. .. .. .. .. .. .. .. .. .. .. .. .. .. ..\nno: ^P\nno: ^Q\nno: ^R\nno: ^S\nno: ^T\nno: ^W\nno: ^Z\nno: ^\\\nno: ^^\nno: ^_\nno: ^B\nno: ^D\nno: ^F\nno: ^Y\n> @100\n\n.. .. .. .. .. .. .. .. .. .. .. .. .. .. .. ..\n> \n> zp\n> \n> zp\n> \n> dc\n> cd\n> cd\n> zp\n> zp\n> ED\n> ED\n> EE\n> EE\n> aoeuaoeu\nno: aoeuaoeu\n> aoeuaoeu\nno: aoeuaoeu\n> %s\n> %g\nno: %g\n> %r\nno: %r\n> %s\n> %s\n> %s\n> %s\n> %g\nno: %g\n> %r\nno: %r\n> @100\n> F8"}
input:{"type":"field","size":[309,19],"pos":[13,213],"script":"cv-demo.1","border":1,"scrollbar":0,"style":"code","value":"@100"}
status:{"type":"field","size":[309,37],"pos":[13,27],"locked":1,"script":"cv-demo.1","show":"transparent","border":1,"scrollbar":0,"style":"code","value":"ds: []\ncs: []\nip: 100"}
run_meta:{"type":"button","size":[69,24],"pos":[11,473],"script":"bytecode.1","text":"run_meta","style":"rect"}
op1:{"type":"button","size":[22,20],"pos":[379,26],"font":"mono","text":"^A","style":"rect"}
op2:{"type":"button","size":[22,20],"pos":[399,26],"font":"mono","text":"^B","style":"rect"}
op3:{"type":"button","size":[22,20],"pos":[419,26],"font":"mono","text":"^C","style":"rect"}
op4:{"type":"button","size":[22,20],"pos":[439,26],"font":"mono","text":"^D","style":"rect"}
op5:{"type":"button","size":[22,20],"pos":[459,26],"font":"mono","text":"^E","style":"rect"}
op6:{"type":"button","size":[22,20],"pos":[479,26],"font":"mono","text":"^F","style":"rect"}
op7:{"type":"button","size":[22,20],"pos":[499,26],"font":"mono","text":"^G","style":"rect"}
op8:{"type":"button","size":[22,20],"pos":[519,26],"font":"mono","text":"^H","style":"rect"}
op9:{"type":"button","size":[22,20],"pos":[539,26],"font":"mono","text":"^I","style":"rect"}
opA:{"type":"button","size":[22,20],"pos":[559,26],"font":"mono","text":"^J","style":"rect"}
opB:{"type":"button","size":[22,20],"pos":[579,26],"font":"mono","text":"^K","style":"rect"}
opC:{"type":"button","size":[22,20],"pos":[599,26],"font":"mono","text":"^L","style":"rect"}
opD:{"type":"button","size":[22,20],"pos":[619,26],"font":"mono","text":"^M","style":"rect"}
opE:{"type":"button","size":[22,20],"pos":[639,26],"font":"mono","text":"^N","style":"rect"}
opF:{"type":"button","size":[22,20],"pos":[659,26],"font":"mono","text":"^O","style":"rect"}
op10:{"type":"button","size":[22,20],"pos":[359,44],"font":"mono","text":"^P","style":"rect"}
op11:{"type":"button","size":[22,20],"pos":[379,44],"font":"mono","text":"^Q","style":"rect"}
op12:{"type":"button","size":[22,20],"pos":[399,44],"font":"mono","text":"^R","style":"rect"}
op13:{"type":"button","size":[22,20],"pos":[419,44],"font":"mono","text":"^S","style":"rect"}
op14:{"type":"button","size":[22,20],"pos":[439,44],"font":"mono","text":"^T","style":"rect"}
op15:{"type":"button","size":[22,20],"pos":[459,44],"font":"mono","text":"^U","style":"rect"}
op16:{"type":"button","size":[22,20],"pos":[479,44],"font":"mono","text":"^V","style":"rect"}
op17:{"type":"button","size":[22,20],"pos":[499,44],"font":"mono","text":"^W","style":"rect"}
op18:{"type":"button","size":[22,20],"pos":[519,44],"font":"mono","text":"^X","style":"rect"}
op19:{"type":"button","size":[22,20],"pos":[539,44],"font":"mono","text":"^Y","style":"rect"}
op1A:{"type":"button","size":[22,20],"pos":[559,44],"font":"mono","text":"^Z","style":"rect"}
op1B:{"type":"button","size":[22,20],"pos":[579,44],"font":"mono","text":"^[","style":"rect"}
op1C:{"type":"button","size":[22,20],"pos":[599,44],"font":"mono","text":"^\\","style":"rect"}
op1D:{"type":"button","size":[22,20],"pos":[619,44],"font":"mono","text":"^]","style":"rect"}
op1E:{"type":"button","size":[22,20],"pos":[639,44],"font":"mono","text":"^^","style":"rect"}
op1F:{"type":"button","size":[22,20],"pos":[659,44],"font":"mono","text":"^_","style":"rect"}
op20:{"type":"button","size":[22,20],"pos":[359,62],"font":"mono","text":"' ","style":"rect"}
op21:{"type":"button","size":[22,20],"pos":[379,62],"font":"mono","text":"'!","style":"rect"}
op22:{"type":"button","size":[22,20],"pos":[399,62],"font":"mono","text":"'\"","style":"rect"}
op23:{"type":"button","size":[22,20],"pos":[419,62],"font":"mono","text":"'#","style":"rect"}
op24:{"type":"button","size":[22,20],"pos":[439,62],"font":"mono","text":"'$","style":"rect"}
op25:{"type":"button","size":[22,20],"pos":[459,62],"font":"mono","text":"'%","style":"rect"}
op26:{"type":"button","size":[22,20],"pos":[479,62],"font":"mono","text":"'&","style":"rect"}
op27:{"type":"button","size":[22,20],"pos":[499,62],"font":"mono","text":"''","style":"rect"}
op28:{"type":"button","size":[22,20],"pos":[519,62],"font":"mono","text":"'(","style":"rect"}
op29:{"type":"button","size":[22,20],"pos":[539,62],"font":"mono","text":"')","style":"rect"}
op2A:{"type":"button","size":[22,20],"pos":[559,62],"font":"mono","text":"'*","style":"rect"}
op2B:{"type":"button","size":[22,20],"pos":[579,62],"font":"mono","text":"'+","style":"rect"}
op2C:{"type":"button","size":[22,20],"pos":[599,62],"font":"mono","text":"',","style":"rect"}
op2D:{"type":"button","size":[22,20],"pos":[619,62],"font":"mono","text":"'-","style":"rect"}
op2E:{"type":"button","size":[22,20],"pos":[639,62],"font":"mono","text":"'.","style":"rect"}
op2F:{"type":"button","size":[22,20],"pos":[659,62],"font":"mono","text":"'/","style":"rect"}
op30:{"type":"button","size":[22,20],"pos":[359,80],"font":"mono","text":"'0","style":"rect"}
op31:{"type":"button","size":[22,20],"pos":[379,80],"font":"mono","text":"'1","style":"rect"}
op32:{"type":"button","size":[22,20],"pos":[399,80],"font":"mono","text":"'2","style":"rect"}
op33:{"type":"button","size":[22,20],"pos":[419,80],"font":"mono","text":"'3","style":"rect"}
op34:{"type":"button","size":[22,20],"pos":[439,80],"font":"mono","text":"'4","style":"rect"}
op35:{"type":"button","size":[22,20],"pos":[459,80],"font":"mono","text":"'5","style":"rect"}
op36:{"type":"button","size":[22,20],"pos":[479,80],"font":"mono","text":"'6","style":"rect"}
op37:{"type":"button","size":[22,20],"pos":[499,80],"font":"mono","text":"'7","style":"rect"}
op38:{"type":"button","size":[22,20],"pos":[519,80],"font":"mono","text":"'8","style":"rect"}
op39:{"type":"button","size":[22,20],"pos":[539,80],"font":"mono","text":"'9","style":"rect"}
op3A:{"type":"button","size":[22,20],"pos":[559,80],"font":"mono","text":"':","style":"rect"}
op3B:{"type":"button","size":[22,20],"pos":[579,80],"font":"mono","text":"';","style":"rect"}
op3C:{"type":"button","size":[22,20],"pos":[599,80],"font":"mono","text":"'<","style":"rect"}
op3D:{"type":"button","size":[22,20],"pos":[619,80],"font":"mono","text":"'=","style":"rect"}
op3E:{"type":"button","size":[22,20],"pos":[639,80],"font":"mono","text":"'>","style":"rect"}
op3F:{"type":"button","size":[22,20],"pos":[659,80],"font":"mono","text":"'?","style":"rect"}
op40:{"type":"button","size":[22,20],"pos":[359,98],"font":"mono","text":"'@","style":"rect"}
op41:{"type":"button","size":[22,20],"pos":[379,98],"font":"mono","text":"'A","style":"rect"}
op42:{"type":"button","size":[22,20],"pos":[399,98],"font":"mono","text":"'B","style":"rect"}
op43:{"type":"button","size":[22,20],"pos":[419,98],"font":"mono","text":"'C","style":"rect"}
op44:{"type":"button","size":[22,20],"pos":[439,98],"font":"mono","text":"'D","style":"rect"}
op45:{"type":"button","size":[22,20],"pos":[459,98],"font":"mono","text":"'E","style":"rect"}
op46:{"type":"button","size":[22,20],"pos":[479,98],"font":"mono","text":"'F","style":"rect"}
op47:{"type":"button","size":[22,20],"pos":[499,98],"font":"mono","text":"'G","style":"rect"}
op48:{"type":"button","size":[22,20],"pos":[519,98],"font":"mono","text":"'H","style":"rect"}
op49:{"type":"button","size":[22,20],"pos":[539,98],"font":"mono","text":"'I","style":"rect"}
op4A:{"type":"button","size":[22,20],"pos":[559,98],"font":"mono","text":"'J","style":"rect"}
op4B:{"type":"button","size":[22,20],"pos":[579,98],"font":"mono","text":"'K","style":"rect"}
op4C:{"type":"button","size":[22,20],"pos":[599,98],"font":"mono","text":"'L","style":"rect"}
op4D:{"type":"button","size":[22,20],"pos":[619,98],"font":"mono","text":"'M","style":"rect"}
op4E:{"type":"button","size":[22,20],"pos":[639,98],"font":"mono","text":"'N","style":"rect"}
op4F:{"type":"button","size":[22,20],"pos":[659,98],"font":"mono","text":"'O","style":"rect"}
op50:{"type":"button","size":[22,20],"pos":[359,116],"font":"mono","text":"'P","style":"rect"}
op51:{"type":"button","size":[22,20],"pos":[379,116],"font":"mono","text":"'Q","style":"rect"}
op52:{"type":"button","size":[22,20],"pos":[399,116],"font":"mono","text":"'R","style":"rect"}
op53:{"type":"button","size":[22,20],"pos":[419,116],"font":"mono","text":"'S","style":"rect"}
op54:{"type":"button","size":[22,20],"pos":[439,116],"font":"mono","text":"'T","style":"rect"}
op55:{"type":"button","size":[22,20],"pos":[459,116],"font":"mono","text":"'U","style":"rect"}
op56:{"type":"button","size":[22,20],"pos":[479,116],"font":"mono","text":"'V","style":"rect"}
op57:{"type":"button","size":[22,20],"pos":[499,116],"font":"mono","text":"'W","style":"rect"}
op58:{"type":"button","size":[22,20],"pos":[519,116],"font":"mono","text":"'X","style":"rect"}
op59:{"type":"button","size":[22,20],"pos":[539,116],"font":"mono","text":"'Y","style":"rect"}
op5A:{"type":"button","size":[22,20],"pos":[559,116],"font":"mono","text":"'Z","style":"rect"}
op5B:{"type":"button","size":[22,20],"pos":[579,116],"font":"mono","text":"'[","style":"rect"}
op5C:{"type":"button","size":[22,20],"pos":[599,116],"font":"mono","text":"'\\","style":"rect"}
op5D:{"type":"button","size":[22,20],"pos":[619,116],"font":"mono","text":"']","style":"rect"}
op5E:{"type":"button","size":[22,20],"pos":[639,116],"font":"mono","text":"'^","style":"rect"}
op5F:{"type":"button","size":[22,20],"pos":[659,116],"font":"mono","text":"'_","style":"rect"}
op60:{"type":"button","size":[22,20],"pos":[359,134],"font":"mono","text":"'`","style":"rect"}
op61:{"type":"button","size":[22,20],"pos":[379,134],"font":"mono","text":"'a","style":"rect"}
op62:{"type":"button","size":[22,20],"pos":[399,134],"font":"mono","text":"'b","style":"rect"}
op63:{"type":"button","size":[22,20],"pos":[419,134],"font":"mono","text":"'c","style":"rect"}
op64:{"type":"button","size":[22,20],"pos":[439,134],"font":"mono","text":"'d","style":"rect"}
op65:{"type":"button","size":[22,20],"pos":[459,134],"font":"mono","text":"'e","style":"rect"}
op66:{"type":"button","size":[22,20],"pos":[479,134],"font":"mono","text":"'f","style":"rect"}
op67:{"type":"button","size":[22,20],"pos":[499,134],"font":"mono","text":"'g","style":"rect"}
op68:{"type":"button","size":[22,20],"pos":[519,134],"font":"mono","text":"'h","style":"rect"}
op69:{"type":"button","size":[22,20],"pos":[539,134],"font":"mono","text":"'i","style":"rect"}
op6A:{"type":"button","size":[22,20],"pos":[559,134],"font":"mono","text":"'j","style":"rect"}
op6B:{"type":"button","size":[22,20],"pos":[579,134],"font":"mono","text":"'k","style":"rect"}
op6C:{"type":"button","size":[22,20],"pos":[599,134],"font":"mono","text":"'l","style":"rect"}
op6D:{"type":"button","size":[22,20],"pos":[619,134],"font":"mono","text":"'m","style":"rect"}
op6E:{"type":"button","size":[22,20],"pos":[639,134],"font":"mono","text":"'n","style":"rect"}
op6F:{"type":"button","size":[22,20],"pos":[659,134],"font":"mono","text":"'o","style":"rect"}
op70:{"type":"button","size":[22,20],"pos":[359,152],"font":"mono","text":"'p","style":"rect"}
op71:{"type":"button","size":[22,20],"pos":[379,152],"font":"mono","text":"'q","style":"rect"}
op72:{"type":"button","size":[22,20],"pos":[399,152],"font":"mono","text":"'r","style":"rect"}
op73:{"type":"button","size":[22,20],"pos":[419,152],"font":"mono","text":"'s","style":"rect"}
op74:{"type":"button","size":[22,20],"pos":[439,152],"font":"mono","text":"'t","style":"rect"}
op75:{"type":"button","size":[22,20],"pos":[459,152],"font":"mono","text":"'u","style":"rect"}
op76:{"type":"button","size":[22,20],"pos":[479,152],"font":"mono","text":"'v","style":"rect"}
op77:{"type":"button","size":[22,20],"pos":[499,152],"font":"mono","text":"'w","style":"rect"}
op78:{"type":"button","size":[22,20],"pos":[519,152],"font":"mono","text":"'x","style":"rect"}
op79:{"type":"button","size":[22,20],"pos":[539,152],"font":"mono","text":"'y","style":"rect"}
op7A:{"type":"button","size":[22,20],"pos":[559,152],"font":"mono","text":"'z","style":"rect"}
meta:{"type":"field","size":[335,161],"pos":[11,311],"scrollbar":1,"style":"code","value":"# layout buttons in grid relative to ^@ button\ncmds: \"%s\",\"%g\",\"%r\" # step / go / run\neach b i0 in \n  extract value where value..name like \"op*\"\n  orderby index asc\n  from card.widgets\n#\n  i:i0+1 b.style:b00.style\n  b.name: \"op%H\" format i\n  b.text:  if i<256 mb4.dis[i] else cmds[i-256] end\n  p: b00.pos s: -2 + b.size: b00.size\n  b.pos: p + s * (16%i),floor i/16\nend\n"}
op7B:{"type":"button","size":[22,20],"pos":[579,152],"font":"mono","text":"'{","style":"rect"}
op7C:{"type":"button","size":[22,20],"pos":[599,152],"font":"mono","text":"'|","style":"rect"}
op7D:{"type":"button","size":[22,20],"pos":[619,152],"font":"mono","text":"'}","style":"rect"}
op7E:{"type":"button","size":[22,20],"pos":[639,152],"font":"mono","text":"'~","style":"rect"}
op7F:{"type":"button","size":[22,20],"pos":[659,152],"font":"mono","text":"^?","style":"rect"}
op80:{"type":"button","size":[22,20],"pos":[359,170],"font":"mono","text":"lb","style":"rect"}
op81:{"type":"button","size":[22,20],"pos":[379,170],"font":"mono","text":"li","style":"rect"}
op82:{"type":"button","size":[22,20],"pos":[399,170],"font":"mono","text":"du","style":"rect"}
op83:{"type":"button","size":[22,20],"pos":[419,170],"font":"mono","text":"sw","style":"rect"}
op84:{"type":"button","size":[22,20],"pos":[439,170],"font":"mono","text":"ov","style":"rect"}
op85:{"type":"button","size":[22,20],"pos":[459,170],"font":"mono","text":"zp","style":"rect"}
op86:{"type":"button","size":[22,20],"pos":[479,170],"font":"mono","text":"dc","style":"rect"}
op87:{"type":"button","size":[22,20],"pos":[499,170],"font":"mono","text":"cd","style":"rect"}
op88:{"type":"button","size":[22,20],"pos":[519,170],"font":"mono","text":"ad","style":"rect"}
op89:{"type":"button","size":[22,20],"pos":[539,170],"font":"mono","text":"sb","style":"rect"}
op8A:{"type":"button","size":[22,20],"pos":[559,170],"font":"mono","text":"ml","style":"rect"}
op8B:{"type":"button","size":[22,20],"pos":[579,170],"font":"mono","text":"dv","style":"rect"}
op8C:{"type":"button","size":[22,20],"pos":[599,170],"font":"mono","text":"md","style":"rect"}
op8D:{"type":"button","size":[22,20],"pos":[619,170],"font":"mono","text":"sh","style":"rect"}
op8E:{"type":"button","size":[22,20],"pos":[639,170],"font":"mono","text":"an","style":"rect"}
op8F:{"type":"button","size":[22,20],"pos":[659,170],"font":"mono","text":"or","style":"rect"}
op90:{"type":"button","size":[22,20],"pos":[359,188],"font":"mono","text":"xr","style":"rect"}
op91:{"type":"button","size":[22,20],"pos":[379,188],"font":"mono","text":"nt","style":"rect"}
op92:{"type":"button","size":[22,20],"pos":[399,188],"font":"mono","text":"eq","style":"rect"}
op93:{"type":"button","size":[22,20],"pos":[419,188],"font":"mono","text":"lt","style":"rect"}
op94:{"type":"button","size":[22,20],"pos":[439,188],"font":"mono","text":"jm","style":"rect"}
op95:{"type":"button","size":[22,20],"pos":[459,188],"font":"mono","text":"hp","style":"rect"}
op96:{"type":"button","size":[22,20],"pos":[479,188],"font":"mono","text":"h0","style":"rect"}
op97:{"type":"button","size":[22,20],"pos":[499,188],"font":"mono","text":"cl","style":"rect"}
op98:{"type":"button","size":[22,20],"pos":[519,188],"font":"mono","text":"rt","style":"rect"}
op99:{"type":"button","size":[22,20],"pos":[539,188],"font":"mono","text":"nx","style":"rect"}
op9A:{"type":"button","size":[22,20],"pos":[559,188],"font":"mono","text":"rb","style":"rect"}
op9B:{"type":"button","size":[22,20],"pos":[579,188],"font":"mono","text":"wb","style":"rect"}
op9C:{"type":"button","size":[22,20],"pos":[599,188],"font":"mono","text":"ri","style":"rect"}
op9D:{"type":"button","size":[22,20],"pos":[619,188],"font":"mono","text":"wi","style":"rect"}
op9E:{"type":"button","size":[22,20],"pos":[639,188],"font":"mono","text":"rx","style":"rect"}
op9F:{"type":"button","size":[22,20],"pos":[659,188],"font":"mono","text":"ry","style":"rect"}
opA0:{"type":"button","size":[22,20],"pos":[359,206],"font":"mono","text":"wz","style":"rect"}
opA1:{"type":"button","size":[22,20],"pos":[379,206],"font":"mono","text":"A1","style":"rect"}
opA2:{"type":"button","size":[22,20],"pos":[399,206],"font":"mono","text":"A2","style":"rect"}
opA3:{"type":"button","size":[22,20],"pos":[419,206],"font":"mono","text":"A3","style":"rect"}
opA4:{"type":"button","size":[22,20],"pos":[439,206],"font":"mono","text":"A4","style":"rect"}
opA5:{"type":"button","size":[22,20],"pos":[459,206],"font":"mono","text":"A5","style":"rect"}
opA6:{"type":"button","size":[22,20],"pos":[479,206],"font":"mono","text":"A6","style":"rect"}
opA7:{"type":"button","size":[22,20],"pos":[499,206],"font":"mono","text":"A7","style":"rect"}
opA8:{"type":"button","size":[22,20],"pos":[519,206],"font":"mono","text":"A8","style":"rect"}
opA9:{"type":"button","size":[22,20],"pos":[539,206],"font":"mono","text":"A9","style":"rect"}
opAA:{"type":"button","size":[22,20],"pos":[559,206],"font":"mono","text":"AA","style":"rect"}
opAB:{"type":"button","size":[22,20],"pos":[579,206],"font":"mono","text":"AB","style":"rect"}
opAC:{"type":"button","size":[22,20],"pos":[599,206],"font":"mono","text":"AC","style":"rect"}
opAD:{"type":"button","size":[22,20],"pos":[619,206],"font":"mono","text":"AD","style":"rect"}
opAE:{"type":"button","size":[22,20],"pos":[639,206],"font":"mono","text":"AE","style":"rect"}
opAF:{"type":"button","size":[22,20],"pos":[659,206],"font":"mono","text":"AF","style":"rect"}
opB0:{"type":"button","size":[22,20],"pos":[359,224],"font":"mono","text":"tg","style":"rect"}
opB1:{"type":"button","size":[22,20],"pos":[379,224],"font":"mono","text":"ta","style":"rect"}
opB2:{"type":"button","size":[22,20],"pos":[399,224],"font":"mono","text":"tw","style":"rect"}
opB3:{"type":"button","size":[22,20],"pos":[419,224],"font":"mono","text":"tr","style":"rect"}
opB4:{"type":"button","size":[22,20],"pos":[439,224],"font":"mono","text":"tk","style":"rect"}
opB5:{"type":"button","size":[22,20],"pos":[459,224],"font":"mono","text":"ts","style":"rect"}
opB6:{"type":"button","size":[22,20],"pos":[479,224],"font":"mono","text":"tl","style":"rect"}
opB7:{"type":"button","size":[22,20],"pos":[499,224],"font":"mono","text":"tc","style":"rect"}
opB8:{"type":"button","size":[22,20],"pos":[519,224],"font":"mono","text":"B8","style":"rect"}
opB9:{"type":"button","size":[22,20],"pos":[539,224],"font":"mono","text":"B9","style":"rect"}
opBA:{"type":"button","size":[22,20],"pos":[559,224],"font":"mono","text":"BA","style":"rect"}
opBB:{"type":"button","size":[22,20],"pos":[579,224],"font":"mono","text":"BB","style":"rect"}
opBC:{"type":"button","size":[22,20],"pos":[599,224],"font":"mono","text":"BC","style":"rect"}
opBD:{"type":"button","size":[22,20],"pos":[619,224],"font":"mono","text":"BD","style":"rect"}
opBE:{"type":"button","size":[22,20],"pos":[639,224],"font":"mono","text":"BE","style":"rect"}
opBF:{"type":"button","size":[22,20],"pos":[659,224],"font":"mono","text":"BF","style":"rect"}
opC0:{"type":"button","size":[22,20],"pos":[359,242],"font":"mono","text":"C0","style":"rect"}
opC1:{"type":"button","size":[22,20],"pos":[379,242],"font":"mono","text":"C1","style":"rect"}
opC2:{"type":"button","size":[22,20],"pos":[399,242],"font":"mono","text":"C2","style":"rect"}
opC3:{"type":"button","size":[22,20],"pos":[419,242],"font":"mono","text":"C3","style":"rect"}
opC4:{"type":"button","size":[22,20],"pos":[439,242],"font":"mono","text":"C4","style":"rect"}
opC5:{"type":"button","size":[22,20],"pos":[459,242],"font":"mono","text":"C5","style":"rect"}
opC6:{"type":"button","size":[22,20],"pos":[479,242],"font":"mono","text":"C6","style":"rect"}
opC7:{"type":"button","size":[22,20],"pos":[499,242],"font":"mono","text":"C7","style":"rect"}
opC8:{"type":"button","size":[22,20],"pos":[519,242],"font":"mono","text":"C8","style":"rect"}
opC9:{"type":"button","size":[22,20],"pos":[539,242],"font":"mono","text":"C9","style":"rect"}
opCA:{"type":"button","size":[22,20],"pos":[559,242],"font":"mono","text":"CA","style":"rect"}
opCB:{"type":"button","size":[22,20],"pos":[579,242],"font":"mono","text":"CB","style":"rect"}
opCC:{"type":"button","size":[22,20],"pos":[599,242],"font":"mono","text":"CC","style":"rect"}
opCD:{"type":"button","size":[22,20],"pos":[619,242],"font":"mono","text":"CD","style":"rect"}
opCE:{"type":"button","size":[22,20],"pos":[639,242],"font":"mono","text":"CE","style":"rect"}
opCF:{"type":"button","size":[22,20],"pos":[659,242],"font":"mono","text":"CF","style":"rect"}
opD0:{"type":"button","size":[22,20],"pos":[359,260],"font":"mono","text":"D0","style":"rect"}
opD1:{"type":"button","size":[22,20],"pos":[379,260],"font":"mono","text":"D1","style":"rect"}
opD2:{"type":"button","size":[22,20],"pos":[399,260],"font":"mono","text":"D2","style":"rect"}
opD3:{"type":"button","size":[22,20],"pos":[419,260],"font":"mono","text":"D3","style":"rect"}
opD4:{"type":"button","size":[22,20],"pos":[439,260],"font":"mono","text":"D4","style":"rect"}
opD5:{"type":"button","size":[22,20],"pos":[459,260],"font":"mono","text":"D5","style":"rect"}
opD6:{"type":"button","size":[22,20],"pos":[479,260],"font":"mono","text":"D6","style":"rect"}
opD7:{"type":"button","size":[22,20],"pos":[499,260],"font":"mono","text":"D7","style":"rect"}
opD8:{"type":"button","size":[22,20],"pos":[519,260],"font":"mono","text":"D8","style":"rect"}
opD9:{"type":"button","size":[22,20],"pos":[539,260],"font":"mono","text":"D9","style":"rect"}
opDA:{"type":"button","size":[22,20],"pos":[559,260],"font":"mono","text":"DB","style":"rect"}
opDB:{"type":"button","size":[22,20],"pos":[579,260],"font":"mono","text":"DB","style":"rect"}
opDC:{"type":"button","size":[22,20],"pos":[599,260],"font":"mono","text":"DC","style":"rect"}
opDD:{"type":"button","size":[22,20],"pos":[619,260],"font":"mono","text":"DD","style":"rect"}
opDE:{"type":"button","size":[22,20],"pos":[639,260],"font":"mono","text":"DE","style":"rect"}
opDF:{"type":"button","size":[22,20],"pos":[659,260],"font":"mono","text":"DF","style":"rect"}
opE0:{"type":"button","size":[22,20],"pos":[359,278],"font":"mono","text":"E0","style":"rect"}
opE1:{"type":"button","size":[22,20],"pos":[379,278],"font":"mono","text":"E1","style":"rect"}
opE2:{"type":"button","size":[22,20],"pos":[399,278],"font":"mono","text":"E2","style":"rect"}
opE3:{"type":"button","size":[22,20],"pos":[419,278],"font":"mono","text":"E3","style":"rect"}
opE4:{"type":"button","size":[22,20],"pos":[439,278],"font":"mono","text":"E4","style":"rect"}
opE5:{"type":"button","size":[22,20],"pos":[459,278],"font":"mono","text":"E5","style":"rect"}
opE6:{"type":"button","size":[22,20],"pos":[479,278],"font":"mono","text":"E6","style":"rect"}
opE7:{"type":"button","size":[22,20],"pos":[499,278],"font":"mono","text":"E7","style":"rect"}
opE8:{"type":"button","size":[22,20],"pos":[519,278],"font":"mono","text":"E8","style":"rect"}
opE9:{"type":"button","size":[22,20],"pos":[539,278],"font":"mono","text":"E9","style":"rect"}
opEA:{"type":"button","size":[22,20],"pos":[559,278],"font":"mono","text":"EC","style":"rect"}
opEB:{"type":"button","size":[22,20],"pos":[579,278],"font":"mono","text":"EB","style":"rect"}
opEC:{"type":"button","size":[22,20],"pos":[599,278],"font":"mono","text":"EC","style":"rect"}
opED:{"type":"button","size":[22,20],"pos":[619,278],"font":"mono","text":"ED","style":"rect"}
opEE:{"type":"button","size":[22,20],"pos":[639,278],"font":"mono","text":"EE","style":"rect"}
opEF:{"type":"button","size":[22,20],"pos":[659,278],"font":"mono","text":"EF","style":"rect"}
opF0:{"type":"button","size":[22,20],"pos":[359,296],"font":"mono","text":"F0","style":"rect"}
opF1:{"type":"button","size":[22,20],"pos":[379,296],"font":"mono","text":"F1","style":"rect"}
opF2:{"type":"button","size":[22,20],"pos":[399,296],"font":"mono","text":"F2","style":"rect"}
opF3:{"type":"button","size":[22,20],"pos":[419,296],"font":"mono","text":"F3","style":"rect"}
opF4:{"type":"button","size":[22,20],"pos":[439,296],"font":"mono","text":"F4","style":"rect"}
opF5:{"type":"button","size":[22,20],"pos":[459,296],"font":"mono","text":"F5","style":"rect"}
opF6:{"type":"button","size":[22,20],"pos":[479,296],"font":"mono","text":"F6","style":"rect"}
opF7:{"type":"button","size":[22,20],"pos":[499,296],"font":"mono","text":"F7","style":"rect"}
opF8:{"type":"button","size":[22,20],"pos":[519,296],"font":"mono","text":"F8","style":"rect"}
opF9:{"type":"button","size":[22,20],"pos":[539,296],"font":"mono","text":"F9","style":"rect"}
opFA:{"type":"button","size":[22,20],"pos":[559,296],"font":"mono","text":"FC","style":"rect"}
opFB:{"type":"button","size":[22,20],"pos":[579,296],"font":"mono","text":"FB","style":"rect"}
opFC:{"type":"button","size":[22,20],"pos":[599,296],"font":"mono","text":"FC","style":"rect"}
opFD:{"type":"button","size":[22,20],"pos":[619,296],"font":"mono","text":"FD","style":"rect"}
opFE:{"type":"button","size":[22,20],"pos":[639,296],"font":"mono","text":"db","style":"rect"}
opFF:{"type":"button","size":[22,20],"pos":[659,296],"font":"mono","text":"hl","style":"rect"}
cmd_s:{"type":"button","size":[22,20],"pos":[13,238],"font":"mono","text":"%s","style":"rect","shortcut":"s"}
cmd_g:{"type":"button","size":[22,20],"pos":[33,238],"font":"mono","text":"%g","style":"rect","shortcut":"g"}
cmd_r:{"type":"button","size":[22,20],"pos":[53,238],"font":"mono","text":"%r","style":"rect","shortcut":"r"}
button1:{"type":"button","size":[60,20],"pos":[416,352],"script":"bytecode.2","text":"utf-8"}

{script:bytecode.0}
mb4.set_echo[on echo line do
  output.text: output.text,"\n",line 
  output.scroll: 999999
end]

on view do
  status.text
    : mb4.showStack["ds"], "\n"
    , mb4.showStack["cs"], "\n"
    , mb4.showIp[]
end


on run line do
 echo["> ",line]
 mb4.b4i[line]
 view[]
end

on click do
  run[me.text]
end
{end}

{script:bytecode.1}
on click do
  eval[meta.text 0 1]
end
{end}

{script:bytecode.2}
on click do
 go["https://en.wikipedia.org/wiki/UTF-8#Codepage_layout"]
end
{end}

{card:opcodes}
image:"%%IMG2A2IB/ir/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/Kv8q/yr/"
{widgets}
opcodes:{"type":"grid","size":[608,464],"pos":[16,32],"script":"opcodes.0","widths":[99,99,99,88],"format":"Hssss","value":{"op":[128,129,130,131,132,133,134,135,136,137,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,252,254,255],"code":["lb","li","du","sw","ov","zp","dc","cd","ad","sb","dv","md","sh","an","or","xr","nt","eq","lt","jm","hp","h0","cl","rt","nx","rb","wb","ri","wi","cv","db","hl"],"kind":["","","","","","","","","","","","","","","","","","","","","","","","","advanced","","","","","hardware","meta","meta"],"effect":["-n","-n","n-nn","xy-yx","xy-xyx","x-","x-    (c: -x)","-x (c: x-)","xy-n","xy-n","xy-n","xy-n","xy-n","xy-n","xy-n","xy-n","x-n","xy-n","xy-n","-","-","x-","- (c: -x)","- (c: x-)","(n-?)","(a-n)","xa-","a-n","na-","(?-?)","(?-?)","(?-?)"],"note":["load byte (i8) after ip","load int (i32) after ip","duplicate","swap","over","zap (drop from ds)","data->ctrl","ctrl->data","add (x+y)","sub (x-y)","integer division (x/y)","x mod y","x<<y   (negative y ok)","and (x & y)","or (x|y)","xor (x^y)","not (~x)","test x==y","test x<y","jump","hop (short relative jump)","pop x. hop if it was 0","call function after ip, pushing ip to ctrl","return from function","\"next\" in for...next loop","read byte from address a","write byte to address a","read i32  from address","write i32 to address","canvas device (lil-only?)","debugger (breakpoint)","halt the machine"]},"row":3}

{script:opcodes.0}
on click row do
 
end
{end}

{module:mb4}
description:"the b4 virtual machine"
{script}


on _bytes n do
  each _ in range 4 r:bits.and[255,n] n:floor n/256 r end
end
on _ri a do sum(256^range 4)*vm.ram[a,4] end
on _wi a v do vm.ram[a,4]:_bytes[v] end

on ord c do "%a" parse c end
on reg uc do 4*ord[uc]-64 end
# get/set registers
on _sr c v do _wi[reg[c] v] end
on _gr c v do _ri[reg[c]] end
on _rinc a do r:_ri[a] _wi[a r+4] r end

RX: reg["X"] RY: reg["Y"] RZ: reg["Z"]
HERE:reg["_"]    # continuosly append
THERE:reg["\\"]  # temp var when writing to specific address
# LAST:reg["^"]    # will be used for dictionary

vm.ip: 256
mod.reset: on reset do
  vm.ip: 256
  vm.ds: ()
  vm.cs: ()
  vm.ob: ()
end
mod.clear: on clear do
  vm.ram: array[1024 "u8"]
  _wi[HERE 256]
end
reset[] clear[]

on dtos do last vm.ds end
on dpop do r: last vm.ds vm.ds:-1 drop vm.ds r end
on dpop2 do r:dpop[] dpop[],r end
on dput x do vm.ds: vm.ds,x end
on cpop do r: last vm.cs vm.cs:-1 drop vm.cs r end
on cput x do vm.cs: vm.cs,x end
on here x do if x _wi[HERE x] else _ri[HERE] end end

op.ad: on ad do dput[dpop[] + dpop[]] end
op.ml: on ml do dput[dpop[] * dpop[]] end
op.sb: on sb do y:dpop[] dput[dpop[]-y] end
op.dv: on dv do y:dpop[] dput[floor dpop[]/y] end
op.md: on md do dput[dpop[] % dpop[]] end # !!
op.sh: on sh do y:2^dpop[] dput[dpop[]*y] end
op.an: on an do dput[bits.and[dpop[] dpop[]]] end
op.or: on or do dput[bits.or[dpop[] dpop[]]] end
op.xr: on xr do dput[bits.xor[dpop[] dpop[]]] end
op.nt: on nt do dput[-1-dpop[]] end
op.zp: on zp do dpop[] end
op.eq: on eq do dput[-(dpop[] = dpop[])] end
op.lt: on lt do y:dpop[] dput[-(dpop[]<y)] end
op.du: on du do dput[dtos[]] end
op.sw: on sw do y:dpop[] x:dpop[] dput[y] dput[x]end
op.ov: on ov do dput[last -1 drop vm.ds] end
op.dc: on dc do cput[dpop[]] end
op.cd: on cd do dput[cpop[]] end


op.wb: on wb do vm.ram[dpop[]]: dpop[] end
op.rb: on rb do dput[vm.ram[dpop[]]] end
op.ri: on ri do dput[_ri[dpop[]]] end
op.wi: on wi do a:dpop[] v:dpop[] _wi[a v] end

op.rx: on rx do dput[_ri[_rinc[RX]]] end
op.ry: on ry do dput[_ri[_rinc[RY]]] end
op.wz: on wz do _wi[_rinc[RZ] dpop[]] end

op.lb: on lb do dput[vm.ram[vm.ip:vm.ip+1]] end
op.li: on li do dput[_ri[vm.ip+1]] vm.ip: vm.ip+4 end

on _goto a do vm.ip:(max 256,a)-1 end
on _hop do
  vm.ram.cast:"i8"
  _goto[vm.ip+vm.ram[vm.ip+1]]
  vm.ram.cast:"u8"
end
op.hp: on hp do _hop[] end
op.h0: on h0 do if dpop[] vm.ip:vm.ip+1 else _hop[] end end
op.jm: on jm do _goto[_ri[vm.ip+1]] end
op.cl: on cl do cput[vm.ip+4] _goto[_ri[vm.ip+1]] end
op.rt: on rt do _goto[cpop[]] end
op.nx: on rt do
  i:cpop[]-1 if i>0 cput[i] end
  if i>0 _hop[] else vm.ip:vm.ip+1 end
end

# immediately invoke a "dictionary" register
op.im: on im r do cput[vm.ip] _goto[_ri[4*r]] end
op.io: on io do
  m: "%a" parse vm.ram[vm.ip:vm.ip+1]
  if m="e" x:dpop[] vm.ob:vm.ob,("%a" format x)
  elseif m="R"
  else echo["no: io '",m] end
end


#--- canvas stuff

cvi.b: on cvib cv do wh:dpop2[] xy:dpop2[] cv.box[xy wh] end   # box (hollow)
cvi.c: on cvic cv do dput[180] cvi.n[cv] end                   # circle (xyr-)
cvi.d: on cvid cv do s:cv.size dput[s[0]] dput[s[1]] end       # query dimensions
cvi.f: on cvif cv do cv.pattern: x:dpop[] end                  # fill
cvi.l: on cvil cv do p1:dpop2[] cv.line[dpop[], p1] end        # line(p0p1-)
cvi.n: on cvin cv do  n:dpop[] r:dpop[] xy:dpop2[]             # n-gon (xyrn-)
  a: 2*pi * (range n)/n  a:a,1 take a
  cv.poly[flip floor 0.5+xy+r*(list cos a),list sin a]
end
cvi.r: on cvir cv do wh:dpop2[] xy:dpop2[] cv.rect[xy wh] end  # rect (filled)
cvi.s: on cvis cv do cv.brush: x:dpop[] end                    # stroke
op.cv: on cv do
  if mod.cv m:"%a" format dpop[]
    if m in cvi cvi[m][mod.cv]
    else echo["cv.no: '",m] end
  else echo["no cv!"] end
end


# ---------------------


on toHex n do
  if n < 0 "-%H" format -n else "%H" format n end
end
on isHex s do "%*.1o-%*.16r0123456789ABCDEF%z" parse s end
on unHex s do  p: "%.1o-%H" parse s  if p[0] 0-p[1] else p[1] end end

mod.showStack: on showStack xs do
  "%s: [%s]" format xs,(" " fuse toHex @ vm[xs])
end

mod.regop: on regop x do
  cmd: "%[cmd]1.6o`'!@:?"
  reg: "%[reg]1.64o@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{l}|{r}~?"
  pat: "" fuse cmd,reg,"%[m]z" res:pat parse x   res.m
end
# assert (1,1,0,0,0,1) regop@("@y","'C","`3",">>","`no","`Y")

TBL:
".. ^A ^B ^C ^D ^E ^F ^G ^H ^I ^J ^K ^L ^M ^N ^O
^P ^Q ^R ^S ^T ^U ^V ^W ^X ^Y ^Z ^[ ^\\ ^] ^^ ^_
'* '! '\" '# '$ '% '& '' '( ') '* '+ ', '- '. '/
'0 '1 '2 '3 '4 '5 '6 '7 '8 '9 ': '; '< '= '> '?
'@ 'A 'B 'C 'D 'E 'F 'G 'H 'I 'J 'K 'L 'M 'N 'O
'P 'Q 'R 'S 'T 'U 'V 'W 'X 'Y 'Z '[ '\\ '] '^ '_
'` 'a 'b 'c 'd 'e 'f 'g 'h 'i 'j 'k 'l 'm 'n 'o
'p 'q 'r 's 't 'u 'v 'w 'x 'y 'z '{l} '| '{r} '~ ^?
lb li du sw ov zp dc cd ad sb ml dv md sh an or
xr nt eq lt jm hp h0 cl rt nx rb wb ri wi rx ry
wz A1 A2 A3 A4 A5 A6 A7 A8 A9 AA AB AC AD AE AF
tg ta tw tr tk ts tl tc B8 B9 BA BB BC BD BE BF
C0 C1 C2 C3 C4 C5 C6 C7 C8 C9 CA CB CC CD CE CF
D0 D1 D2 D3 D4 D5 D6 D7 D8 D9 DB DB DC DD DE DF
E0 E1 E2 E3 E4 E5 E6 E7 E8 E9 EC EB EC ED EE EF
F0 F1 F2 F3 F4 F5 F6 F7 F8 F9 FC FB cv io db hl"
TBL: " " split " " fuse "\n" split TBL
TBL:select op:index code:value from TBL[32]: "' "


on imOp x do first extract op where (op>1)&(op<32)&(code=x) from TBL end

mod.dis: on dis i do first extract code where op=i from TBL end
mod.asm: on asm x do
  if r: extract op where code=x from TBL r
  else unHex[x] end
end

mod.step: on step do
  c:dis[o:vm.ram[vm.ip]]
  if c in op op[c][]
  elseif c=".." # ok
  elseif c[0]="^" op.im[o]
  else  echo["step->",c,"(ignored)"] end
  vm.ip: vm.ip+1
end

RT: first extract op where code="rt" from TBL
mod.runToEnd: on runToEnd di do
  while !vm.ram[vm.ip]=RT step[] end step[]
  vm.ip: vm.ip+di # so imOp can not inc ip
end

mod.showMem: on showMem a do " " fuse dis @ vm.ram @ a + range 16 end
mod.showIp: on showIp do "ip: %02H" format vm.ip end
on assemble a s do n:count toks:" "split s  vm.ram[a,n]:raze asm@toks n end
on asm_via hp s do a:_ri[hp]  n:assemble[a s] _wi[hp a+n] end

mod.b4i: on b4i line do
  toks: extract value where value from " " split line
  state:IMM:0 ASM:1 CMT:2    hp:HERE # may be THERE later
  each tok in toks  t:tok[0]
    if (state=CMT) | (t="#") state:CMT
    elseif t="%"
      if     tok="%q" if deck reset[] else exit[0] end
      elseif tok="%R" reset[]
      elseif tok="%C" clear[]
      elseif tok="%s" step[]
      elseif tok="%e" runToEnd[]
      else echo["%.no: ",tok] end
    elseif t="?"
      if tok="?ip" echo[showIp[]]
      elseif tok="?ds" echo[showStack["ds"]]
      elseif tok="?cs" echo[showStack["cs"]]
      elseif regop[tok] echo["%06H" format _ri[reg[tok[1]]]]
      else
        hex: "?%[a]H%[m]z" parse tok
        if hex.m echo[showMem[hex.a]]
        else echo["?.no: ",tok] end
      end
    elseif t=":"
      if 2=count tok
        state:ASM hp:HERE c:tok[1]
        if regop[tok] h:here[] _sr[c h]
        elseif c=":" ok
        elseif (hex: "?%[a]H%[m]z" parse tok).m _wi[hp:THERE hex.a]
        else echo[".no: ",tok] end
      else
        if tok=":" echo["no: :"]
        elseif isHex[a:1 drop tok] there[unHex[a]] hp:THERE state:ASM
        else state:CMT echo["nyi: '%s'" format tok] end end
    elseif t="'"
      v: if tok="'" 32 else ord[tok[1]] end
      if state=ASM asm_via[hp tok]
      else vm.ds: vm.ds,v end
    elseif regop[tok] r:reg[c:tok[1]]
      if state=ASM echo["asm.todo: ", tok]
      elseif t="`" vm.ds: vm.ds,r
      elseif t="!" v:dpop[] _wi[r v]
      elseif t="@" dput[_ri[r]] end  # @X -> li `X ri
    elseif tok in op op[tok][]
    elseif o:imOp[tok] op.im[o] runToEnd[]
    elseif isHex[tok]
      if state=IMM vm.ds: vm.ds,unHex[tok]
      else asm_via[hp tok] end
    else echo["no: %s" format cmd] end
  end
  if vm.ob echo[vm.ob] vm.ob:() end
end

mod.echo: on echo line do mod.echo[line] end
mod.set_cv: on set_cv cv do mod.cv: cv end
mod.set_echo: on set_echo fn do mod.echo: fn end
mod.TBL: TBL
mod.get_vm:on get_vm do vm end
{end}

{contraption:itemlist}
size:[400,161]
resizable:1
margin:[8,35,106,7]
description:"a list of items"
image:"%%IMG2AZAAoQH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wH/Af8B/wGM"
script:"itemlist.0"
attributes:{"name":["label","run_event","list_width"],"label":["label","run event (on \"!\")","list width"],"type":["string","string","number"]}
{widgets}
label:{"type":"field","size":[300,20],"pos":[0,0],"locked":1,"script":"cv-demo.1","font":"menu","show":"invert","border":0,"style":"plain","value":" label"}
item_text:{"type":"field","size":[320,140],"pos":[80,20],"script":"itemlist.1","border":1,"scrollbar":1,"style":"code","value":"this is item 1"}
items:{"type":"grid","size":[80,140],"pos":[0,20],"script":"itemlist.2","headers":0,"lines":0,"widths":[60,0],"format":"ss","value":{"name":["item 0","item 1"],"text":["this is item 0","this is item 1"]},"row":1}
bnw:{"type":"button","size":[20,20],"pos":[380,0],"script":"itemlist.3","text":"+"}
bgo:{"type":"button","size":[20,20],"pos":[300,0],"script":"itemlist.4","font":"body","text":"!"}
run_event:{"type":"field","size":[100,20],"pos":[0,-40],"script":"cv-demo.1","show":"none","value":"run"}
slider1:{"type":"slider","size":[100,20],"pos":[120,-40],"script":"itemlist.5","show":"none","interval":[0,400],"value":80,"step":20,"style":"compact"}
bpr:{"type":"button","size":[20,20],"pos":[320,0],"script":"itemlist.6","text":"<"}
bdn:{"type":"button","size":[20,20],"pos":[340,0],"script":"itemlist.7","text":">"}
brm:{"type":"button","size":[20,20],"pos":[360,0],"script":"itemlist.8","text":"-"}

{script:itemlist.0}
on get_label do label.text end
on set_label x do label.text: x end

on get_run_event do run_event.text end
on set_run_event x do run_event.text: x end
on run x do card.event[get_run_event[] x] end

on goto_row x do
 items.row: max 0,min x,count items.value
 item_text.value: items.value[items.row].text
end

on view do
  slider1.interval: 0,card.size[0]
  set_list_width[slider1.value]
end
on get_list_width do slider1.value end
on set_list_width x do
 cw:card.size[0] lw: slider1.value: floor x 
 items.size: lw, items.size[1]
 items.widths: (max 20,lw-20),0
 item_text.pos: lw,item_text.pos[1]
 item_text.size: (cw-lw),item_text.size[1]
end

{end}

{script:itemlist.1}
on change val do
 t:items.value t.text[items.row]: val
 items.value:t
end
{end}

{script:itemlist.2}
on click row do
 goto_row[row]
end
on changecell v do
 t:me.value t[me.colname][me.row]:v
 me.value:t
end
{end}

{script:itemlist.3}
on click do
  k: keys items.value
  row: table k dict count k take ()
  items.value: items.value, row
  goto_row[count items.value] # -1 but decker knows
end
{end}

{script:itemlist.4}
on click do
  run[item_text.text]
end

{end}

{script:itemlist.5}
on change val do
 set_list_width[me.value]
end
{end}

{script:itemlist.6}
on click do
  goto_row[items.row-1]
end
{end}

{script:itemlist.7}
on click do
  goto_row[items.row+1]
end
{end}

{script:itemlist.8}
on click do
  if alert["really delete this item?" "bool"]
    items.value:select where !index=items.row from items.value
  end
  goto_row[items.row]
end
{end}

